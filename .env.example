# AI4Thai Crop Guardian - Environment Configuration
# Copy this file to .env and update with your actual values

# =============================================================================
# DEPLOYMENT MODE CONFIGURATION
# =============================================================================

# Choose your deployment mode:
# - "separate": AI services deployed separately using HuggingFace models (recommended)
# - "external": AI services provided by AI4Thai infrastructure (demo)
# - "local": All services running locally (development)
DEPLOYMENT_MODE=separate

# =============================================================================
# DATABASE CONFIGURATION
# =============================================================================

# PostgreSQL Database (Local)
DATABASE_URL=postgresql://postgres:password@localhost:5432/ai4thai
POSTGRES_PASSWORD=password
POSTGRES_PORT=5432

# Redis Cache and Queue (Local)
REDIS_URL=redis://localhost:6379
REDIS_PORT=6379

# =============================================================================
# API CONFIGURATION
# =============================================================================

# API Gateway (Local)
API_HOST=0.0.0.0
API_GATEWAY_PORT=3000

# Frontend (Local)
FRONTEND_PORT=8080
API_URL=http://localhost:3000
WS_URL=ws://localhost:3000/ws

# CORS Configuration
CORS_ORIGINS=http://localhost:8080,http://localhost:3000

# =============================================================================
# AI SERVICES CONFIGURATION
# =============================================================================

# SEPARATE DEPLOYMENT MODE (Recommended)
# AI services deployed separately using HuggingFace models
VISION_SERVICE_URL=http://localhost:2001
QUEUE_WORKER_URL=http://localhost:2003

# EXTERNAL DEPLOYMENT MODE (Demo)
# AI services provided by AI4Thai infrastructure
# VISION_SERVICE_URL=https://vision-api.ai4thai.com
# AI4THAI_API_KEY=your_ai4thai_api_key_here

# LOCAL DEPLOYMENT MODE (Development)
# All services running in same docker-compose
# VISION_SERVICE_URL=http://vision-service:2001
# QUEUE_WORKER_URL=http://queue-worker:2003

# =============================================================================
# HUGGINGFACE CONFIGURATION (for separate AI services)
# =============================================================================

# HuggingFace Hub Token (Required for separate AI services)
HUGGINGFACE_HUB_TOKEN=your_huggingface_token_here

# AI Service Ports (for separate deployment)
VISION_SERVICE_PORT=2001
QUEUE_WORKER_PORT=2003

# GPU Configuration (for separate AI services)
CUDA_VISIBLE_DEVICES=0
BUILD_TARGET=production

# Resource Limits (for separate AI services)
VISION_MEMORY_LIMIT=8G
VISION_MEMORY_RESERVATION=4G
QUEUE_WORKER_MEMORY_LIMIT=4G
QUEUE_WORKER_MEMORY_RESERVATION=2G

# =============================================================================
# EXTERNAL THIRD-PARTY APIs
# =============================================================================

# Weather API (Optional)
WEATHER_API_KEY=your_weather_api_key_here
WEATHER_API_URL=https://api.openweathermap.org/data/2.5

# OpenAI API (Fallback for LLM service)
OPENAI_API_KEY=your_openai_api_key_here

# Anthropic API (Fallback for LLM service)
ANTHROPIC_API_KEY=your_anthropic_api_key_here

# =============================================================================
# SECURITY CONFIGURATION
# =============================================================================

# JWT Configuration
JWT_SECRET=demo-jwt-secret-change-in-production-12345
JWT_EXPIRATION=3600
JWT_REFRESH_EXPIRATION=604800

# =============================================================================
# OPTIONAL SERVICES
# =============================================================================

# MinIO (Local S3-compatible storage) - Optional
MINIO_PORT=9000
MINIO_CONSOLE_PORT=9001
MINIO_ROOT_USER=minioadmin
MINIO_ROOT_PASSWORD=minioadmin123

# Monitoring (Optional)
PROMETHEUS_PORT=9090
GRAFANA_PORT=3001
GRAFANA_PASSWORD=admin

# =============================================================================
# APPLICATION CONFIGURATION
# =============================================================================

# Environment
APP_ENV=development
DEVELOPMENT_MODE=true

# Logging
RUST_LOG=info
RUST_BACKTRACE=1
LOG_LEVEL=INFO

# Worker Configuration
WORKER_THREADS=2

# =============================================================================
# AI MODEL CONFIGURATION (for separate AI services)
# =============================================================================

# Vision Service Models
PEST_DETECTION_MODEL=underdogquality/yolo11s-pest-detection
DISEASE_DETECTION_MODEL=YuchengShi/LLaVA-v1.5-7B-Plant-Leaf-Diseases-Detection
VISION_CONFIDENCE_THRESHOLD=0.01
VISION_BATCH_SIZE=4
VISION_MAX_IMAGE_SIZE=10485760  # 10MB

# Models to Download (for separate AI services)
MODELS_TO_DOWNLOAD=underdogquality/yolo11s-pest-detection,YuchengShi/LLaVA-v1.5-7B-Plant-Leaf-Diseases-Detection

# =============================================================================
# DEMONSTRATION SETTINGS
# =============================================================================

# Demo Mode Features
ENABLE_DEMO_DATA=true
DEMO_USER_EMAIL=demo@ai4thai.com
DEMO_USER_PASSWORD=demo123

# Sample Data
LOAD_SAMPLE_CROPS=true
LOAD_SAMPLE_DISEASES=true

# =============================================================================
# DEPLOYMENT SPECIFIC OVERRIDES
# =============================================================================

# For separate AI services deployment
# Uncomment these if using separate AI services
# ENABLE_AI_SERVICES_MONITORING=true
# AI_SERVICES_REDIS_URL=redis://localhost:6379

# For external AI services deployment (demo)
# Uncomment these if using external AI4Thai services
# AI4THAI_API_KEY=your_ai4thai_api_key_here
# VISION_SERVICE_URL=https://vision-api.ai4thai.com

# For local development deployment
# Uncomment these if running all services locally
# VISION_SERVICE_URL=http://vision-service:2001
# QUEUE_WORKER_URL=http://queue-worker:2003

# =============================================================================
# PRODUCTION OVERRIDES (DO NOT USE IN DEVELOPMENT)
# =============================================================================

# Production Database (DO NOT USE FOR DEVELOPMENT)
# DATABASE_URL=postgresql://prod_user:secure_password@prod-db:5432/ai4thai_prod

# Production Security (DO NOT USE FOR DEVELOPMENT)
# JWT_SECRET=super-secure-production-jwt-secret-with-256-bits
# CORS_ORIGINS=https://app.ai4thai.com

# SSL Configuration (Production only)
# SSL_CERT_PATH=/etc/ssl/certs/ai4thai.crt
# SSL_KEY_PATH=/etc/ssl/private/ai4thai.key
# FORCE_HTTPS=true
