# AI4Thai AI Services - Environment Configuration
# Configuration for separate AI service deployment

# =============================================================================
# HUGGINGFACE CONFIGURATION
# =============================================================================

# HuggingFace Hub Token (Required for private models)
HUGGINGFACE_HUB_TOKEN=your_huggingface_token_here

# Model Configuration
MODELS_TO_DOWNLOAD=google/vit-base-patch16-224,microsoft/resnet-50,microsoft/DialoGPT-large,airesearch/wangchanberta-base-att-spm-uncased

# =============================================================================
# SERVICE PORTS
# =============================================================================

# Vision Service
VISION_SERVICE_PORT=2001
VISION_LB_PORT=2011

# LLM Service
LLM_SERVICE_PORT=8002
LLM_LB_PORT=8012

# Redis
REDIS_PORT=6379

# Monitoring
PROMETHEUS_PORT=9090
GRAFANA_PORT=3001

# =============================================================================
# GPU CONFIGURATION
# =============================================================================

# CUDA Device Selection (0,1,2,3 for multi-GPU)
CUDA_VISIBLE_DEVICES=0

# Build Target (development/production/gpu-production)
BUILD_TARGET=production

# =============================================================================
# RESOURCE LIMITS
# =============================================================================

# Vision Service Resources
VISION_MEMORY_LIMIT=8G
VISION_MEMORY_RESERVATION=4G

# LLM Service Resources
LLM_MEMORY_LIMIT=16G
LLM_MEMORY_RESERVATION=8G

# =============================================================================
# EXTERNAL API KEYS (FALLBACK)
# =============================================================================

# OpenAI API (fallback for LLM service)
OPENAI_API_KEY=your_openai_api_key_here

# Anthropic API (fallback for LLM service)
ANTHROPIC_API_KEY=your_anthropic_api_key_here

# =============================================================================
# REDIS CONFIGURATION
# =============================================================================

# Redis URL for caching and session management
REDIS_URL=redis://redis:6379

# =============================================================================
# LOGGING AND MONITORING
# =============================================================================

# Log Level (DEBUG, INFO, WARNING, ERROR)
LOG_LEVEL=INFO

# Grafana Admin Password
GRAFANA_PASSWORD=admin

# =============================================================================
# MODEL SPECIFIC SETTINGS
# =============================================================================

# Vision Service Models
CROP_CLASSIFIER_MODEL=google/vit-base-patch16-224
DISEASE_DETECTOR_MODEL=microsoft/resnet-50

# LLM Service Models
AGRICULTURAL_ADVISOR_MODEL=microsoft/DialoGPT-large
THAI_LANGUAGE_MODEL=airesearch/wangchanberta-base-att-spm-uncased

# =============================================================================
# PERFORMANCE TUNING
# =============================================================================

# Vision Service
VISION_BATCH_SIZE=4
VISION_CONFIDENCE_THRESHOLD=0.7
VISION_MAX_IMAGE_SIZE=10485760  # 10MB

# LLM Service
LLM_MAX_LENGTH=512
LLM_TEMPERATURE=0.7
LLM_TOP_P=0.9
LLM_TOP_K=50

# =============================================================================
# DEVELOPMENT OVERRIDES
# =============================================================================

# Development Mode
DEVELOPMENT_MODE=false

# Enable Debug Logging
DEBUG_MODE=false

# Hot Reload (development only)
RELOAD_ON_CHANGE=false

# =============================================================================
# PRODUCTION SETTINGS
# =============================================================================

# Worker Configuration
MAX_WORKERS=1
WORKER_TIMEOUT=120

# Health Check Configuration
HEALTH_CHECK_INTERVAL=30
HEALTH_CHECK_TIMEOUT=15

# =============================================================================
# SECURITY SETTINGS
# =============================================================================

# API Authentication (if needed)
API_KEY_HEADER=X-API-Key
API_KEY_VALUE=your_api_key_here

# CORS Settings
CORS_ORIGINS=*
CORS_METHODS=GET,POST,PUT,DELETE,OPTIONS
CORS_HEADERS=*

# =============================================================================
# STORAGE CONFIGURATION
# =============================================================================

# Model Storage Path
MODEL_CACHE_DIR=/app/models

# Temporary Files
TEMP_DIR=/app/temp

# Log Files
LOG_DIR=/app/logs

# =============================================================================
# NETWORKING
# =============================================================================

# Service Discovery
VISION_SERVICE_URL=http://vision-service:2001
LLM_SERVICE_URL=http://llm-service:8002

# Load Balancer URLs (if using load balancer profile)
VISION_LB_URL=http://vision-lb:80
LLM_LB_URL=http://llm-lb:80

# =============================================================================
# DEPLOYMENT PROFILES
# =============================================================================

# Available profiles:
# - default: Basic services (vision-service, llm-service, redis)
# - load-balancer: Add load balancers
# - monitoring: Add Prometheus and Grafana
# - init: Run model downloader

# Example usage:
# docker-compose --profile monitoring up -d
# docker-compose --profile load-balancer --profile monitoring up -d
